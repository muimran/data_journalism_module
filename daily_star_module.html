<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Daily Star Data Journalism Training Module</title>
  <meta name="description" content="Detailed module description for the Daily Star Workshop series." />
  <meta name="keywords" content="data journalism, workshop, calendar, sessions" />
  <meta name="author" content="" />
  
  <!-- Open Graph for social sharing -->
  <meta property="og:title" content="Daily Star Data Journalism Training Module" />
  <meta property="og:description" content="Detailed module description for the Daily Star Workshop series" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://muhammadimran.com/ds_module.html" />
  <meta property="og:image" content="https://tds-images.thedailystar.net/sites/all/themes/sloth/logo.svg" />
  
  <!-- Updated Google Fonts Import -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lora:wght@700&family=Roboto:wght@400;600&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --bg-color: #F0E8D3;
      --text-primary: #222;
      --text-secondary: #444;
      --text-muted: #686868;
      --accent-color: #9900ff;
      --today-color: #FE4D00;
      --upcoming-date-bg: #D4D42A;
      --past-date-bg: #aeae6b;
      --border-color: #ddd;
      --font-primary: 'Roboto', sans-serif;
      --font-secondary: 'Lora', serif;
      --footer-bg: #000000; /* Changed to solid black */
      --footer-text: #e0e0e0;
    }

    /* Reset */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body, html {
      font-family: var(--font-primary);
      background: var(--bg-color);
      color: var(--text-primary);
    }

    /* Layout */
    .container {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      grid-template-rows: auto 1fr; 
      gap: 16px;
      padding: 54px;
    }
    
    .header {
      grid-row: 1;
      grid-column: 3 / 6;
      padding-bottom: 30px;
      border-bottom: 1px solid var(--border-color);
      margin-bottom: 30px;
    }
    .header h1 {
      font-family: var(--font-secondary);
      font-size: 2rem;
      margin-bottom: 8px;
      color: var(--text-primary);
    }
    .header p {
      font-size: 1.1rem;
      color: var(--text-secondary);
      max-width: 80%;
    }

    /* Menu */
    .menu {
      grid-row: 2;
      grid-column: 2 / 3;
      position: sticky;
      top: 48px;
      align-self: start;
    }

    .menu div {
      position: relative;
      margin-bottom: 14px;
      cursor: pointer;
      color: #0e0202;
      transition: color 0.3s ease;
      user-select: none;
      text-align: right;
      padding-right: 70px;
      font-weight: 600;
      font-size: 1rem;
    }

    .menu div::after {
      content: "";
      display: block;
      width: 0;
      height: 2px;
      background: var(--accent-color);
      transition: width 0.5s ease;
      margin-top: 4px;
      margin-left: auto;
    }

    .menu div:hover::after,
    .menu div.active::after {
      width: 40px;
    }
    .menu div.active {
      color: var(--accent-color);
    }

    /* Content */
    .content {
      grid-row: 2;
      grid-column: 3 / 6;
      scroll-behavior: smooth;
      line-height: 1.5; 
      padding-right: 16px;
    }

    .content section {
      margin-bottom: 48px;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    .content section.is-visible {
      opacity: 1;
      transform: translateY(0);
    }

    .content h2 {
      font-family: var(--font-secondary);
      font-weight: 700;
      font-size: 1.3rem; 
      margin-bottom: 16px; 
      color: #111;
      letter-spacing: -0.5px; 
      transition: color 0.3s ease;
    }

    .content ul {
      list-style: none;
      padding-left: 0;
      color: var(--text-secondary);
    }

    .content ul li {
      margin-bottom: 12px;
      font-size: 1rem;
      position: relative;
      padding-left: 14px;
    }

    /* Custom Scrollbar CSS */
    body::-webkit-scrollbar {
      width: 8px;
    }

    body::-webkit-scrollbar-track {
      background: var(--bg-color);
    }

    body::-webkit-scrollbar-thumb {
      background-color: var(--past-date-bg);
      border-radius: 10px;
      border: 2px solid var(--bg-color);
    }

    body {
      scrollbar-width: thin;
      scrollbar-color: var(--past-date-bg) var(--bg-color);
    }

    /* Calendar */
    .calendar {
      grid-row: 2;
      grid-column: 6 / 7;
      max-width: 280px;
      width: 100%;
      background: none;
      border: none;
      padding: 12px;
      border-radius: 8px;
      font-size: 0.8rem;
      margin: 0 auto;
      position: sticky;
      top: 24px;
      align-self: start;
    }

    #calendar-months {
      margin-top: 110px;
    }

    .month {
      margin-bottom: 24px;
    }

    .month-name {
      font-weight: 600;
      margin-bottom: 6px;
      text-align: center;
      color: var(--text-primary);
    }

    .weekdays, .days {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      text-align: center;
    }

    .weekdays div {
      font-weight: 500;
      color: var(--text-muted);
      padding: 6px 0;
      text-transform: uppercase;
      font-size: 0.60rem;
    }

    .days div {
      width: 19px;
      height: 19px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      margin: 5px;
      cursor: default;
      user-select: none;
      font-size: 0.80rem;
      color: var(--text-muted);
      position: relative;
    }

    .days div.empty {
      cursor: default;
      background: transparent;
      pointer-events: none;
    }

    .days div.session-date {
      color: white !important;
      font-weight: 500;
      cursor: pointer;
    }

    .days div.session-date.upcoming {
      background-color: var(--upcoming-date-bg);
    }

    .days div.session-date.past {
      background-color: var(--past-date-bg);
    }

    .days div.session-date:hover {
      background-color: var(--accent-color) !important;
      transform: scale(1.22);
      transition: transform 0.3s ease;
    }

    .days div.session-date.selected {
      background-color: var(--accent-color);
      transform: scale(1.22);
    }

    .days div.today {
      background-color: var(--today-color) !important;
      color: white !important;
      font-weight: bold;
      z-index: 1;
    }

    .days div.today::after {
      content: "Today";
      position: absolute;
      background: #333;
      color: white;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.7rem;
      white-space: nowrap;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.2s;
      pointer-events: none;
      z-index: 100;
    }

    .days div.today:hover::after {
      opacity: 1;
    }
    
    /* --- NEW FOOTER STYLES --- */
    footer {
        background-color: var(--footer-bg);
        height: 40px; /* Gives the black bar a visible height */
    }
    
    /* Mobile styles */
    .mobile-top-bar { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 50px; background: white; box-shadow: 0 2px 5px rgba(0,0,0,0.1); z-index: 1200; align-items: center; padding: 0 15px; }
    .mobile-title { font-weight: 500; margin-left: 15px; font-size: 1.1rem; color: #333; }
    #burger { display: none; cursor: pointer; font-size: 1.8rem; user-select: none; color: var(--accent-color); }
    .mobile-date { display: none; font-size: 0.7rem; color: var(--text-muted); margin-left: 8px; }
    
    .content section h2.active-session-heading { color: var(--accent-color); }
    .menu div.hovered, .content section h2.hovered-session-heading { color: var(--accent-color); }
    .menu div.hovered::after { width: 40px; background: var(--accent-color); }
    .days div.session-date.hovered { background-color: var(--accent-color) !important; transform: scale(1.1); transition: transform 0.2s ease; }
    .subtitle { display: none; font-family: var(--font-primary); font-style: italic; font-size: 0.9rem; color: var(--upcoming-date-bg); font-weight: 400; margin-left: 8px; }
    .content h2:hover .subtitle { display: inline; }
    .related-reading a, .related-resources a, li a { color: inherit; text-decoration: underline; }
    
    @media (max-width: 768px) {
      .mobile-top-bar { display: flex; }
      #burger { display: block; font-size: 1.5rem; color: #555; }
      .container { display: block; padding: 20px 15px !important; padding-top: 70px !important; }
      .header { padding: 0 15px 20px 15px; margin-bottom: 20px; text-align: center; }
      .header h1 { font-size: 1.8rem; }
      .header p { font-size: 1rem; max-width: 100%; }
      .menu { position: fixed; top: 50px; bottom: 0; left: 0; width: 220px; background-color: rgba(255, 255, 255, 0.85); -webkit-backdrop-filter: blur(10px); backdrop-filter: blur(10px); padding: 20px; box-shadow: 2px 0 8px rgba(0,0,0,0.2); overflow-y: auto; z-index: 1000; transform: translateX(-100%); transition: transform 0.3s ease; }
      .menu div { padding-right: 20px; text-align: left; }
      .menu div::after { margin-left: 0; }
      .menu.open { transform: translateX(0); }
      .content { padding: 0 15px !important; }
      .calendar { display: none; }
      .content h2:hover .mobile-date { display: inline; }
    }
  </style>
</head>
<body>

  <div class="mobile-top-bar">
    <div id="burger">&#9776;</div>
    <div class="mobile-title">Workshop Sessions</div>
  </div>

  <div class="container">
    <div class="header">
      <h1>The Daily Star Data Journalism Workshop</h1>
      <p>An overview of the training modules, topics, and schedule for 2025.</p>
    </div>
    <div class="menu" id="menu"></div>
    <div class="content" id="content-area"></div>
    <div class="calendar" id="calendar">
      <div id="calendar-months"></div>
    </div>
  </div>

  <!-- Footer is now an empty black bar -->
  <footer></footer>

  <script>
    const sessions = [
      {
        menuLabel: "session 1",
        title: "Introduction and housekeeping",
        content: [
          "Setting goals and expectations",
          "Defining the scope and structure of the series",
          "Contextualizing the role of data journalism in today's newsroom"
        ],
        dates: ["2025-06-21"]
      },
      {
        menuLabel: "session 2",
        title: "Data Cleaning Principles and Concepts",
        subtitle: "data processing",
        content: [
          "Understanding Data as Journalistic Evidence",
          "The Four Fundamental Data Types",
          "Why Incorrect Data Types Break Analysis (Sorting, Math, Grouping)",
          "Diagnosing the Most Common Types of Messy Data",
          "The Five-Step Workflow for Systematic Data Cleaning",
          'Introduction to <a href="https://openrefine.org" target="_blank" rel="noopener">OpenRefine</a> for data cleaning: installing and launching'
        ],
        dates: ["2025-06-23"]
      },
      {
        menuLabel: "session 3",
        title: "Hands-On Data Cleaning with OpenRefine",
        subtitle: "data processing",
        content: [
            "Getting Started: Importing and Exploring Data in OpenRefine",
            "Inspecting and Diagnosing Data with Facets",
            "Fixing Inconsistencies with Faceting and Clustering",
            "Applying Common Transformations to Clean Cell Data (Trimming, Case, Conversion)",
            "Restructuring Data: Extracting Information and Managing Columns (Splitting, Removing)",
            "Finalizing Your Workflow: Removing Duplicates and Exporting Reproducible Results"
        ],
        dates: ["2025-06-25"]
      },  
      {
        menuLabel: "session 4",
        title: "Spreadsheet Basics (Excel/Google Sheets)",
        subtitle: "data processing", 
        content: [
          "Data entry best practices",
          "Sorting, filtering, conditional formatting",
          "Basic formulas: SUM, AVERAGE, COUNTIF, CONCAT",
          "Simple pivot tables"
        ],
        dates: ["2025-06-26"]
      },
      {
        menuLabel: "session 5",
        title: "Newsroom Math",
        subtitle: "data processing", 
        content: [
          "Mean, median, mode, range, standard deviation",
          "Making sense of distributions",
          "Detecting errors and unusual values",
          "Interpreting summary statistics",
          '<a href="http://www.tylervigen.com/spurious-correlations" target="_blank" rel="noopener">Spurious Correlations</a>',
          '<a href="https://journalistsresource.org/home/percent-change-math-for-journalists/"  target="_blank"  style="color: inherit; text-decoration: underline;">Percentage and percentage point</a>',
          '<a href="https://coffeebreakdata.com/average-of-an-average-is-wrong/" target="_blank" style="color: inherit; text-decoration: underline;">Average of the averages</a>',

        ],
        dates: ["2025-06-28"]
      },
      {
        menuLabel: "session 6",
        title: 'Web Scraping with <a href="https://www.octoparse.com" style="color: inherit; text-decoration: underline;">Octoparse</a> (No-Code Scraping)',
        subtitle: "data collection", 
        content: [
          '<a href="https://www.octoparse.com/download" style="color: inherit; text-decoration: underline;">Installing Octoparse</a>',
          "Creating a simple scraping workflow",
          "Scraping paginated websites",
          "Exporting data to Excel/CSV"
        ],
        dates: ["2025-06-30"]
      },
      {
        menuLabel: "session 7",
        title: "Data Lab 1: Investigating the Human Cost of Migration",
        subtitle: "data processing", 
        content: [
          "Exploring the IOM Missing Migrants dataset for Bangladeshi and South Asian cases",
          "Analysing patterns by route, destination, and cause of death",
          "Visualising risks and trends affecting regional migrants"
        ],
        dates: ["2025-07-02"]
      },
      {
        menuLabel: "session 8",
        title: "Where to Find Open Data on Bangladesh",
        subtitle: "data collection", 
        content: [
          "Bangladesh government open data portals",
          "UN, World Bank, IMF, UNESCO, WHO",
          "Data journalism repositories (Data is Plural, Kaggle)",
          "RTI (Right to Information)"
        ],
        dates: ["2025-07-03"]
      },
      {
        menuLabel: "session 9",
        title: "Working with PDFs (Beginner-friendly, No-code/Low-code)",
        subtitle: "data collection", 
        content: [
          "Extracting tables and text using Tabula",
          "Online tools for PDF to Excel conversion"
        ],
        dates: ["2025-07-05"]
      },
      {
        menuLabel: "session 10",
        title: "Data Viz Theory: How to Think Visually",
        subtitle: "data visualisation", 
        content: [
          "When to use which chart",
          "Data types (categorical, ordinal, continuous)",
          "Visual perception: chartjunk, color theory",
          "Story structure in data visuals"
        ],
        dates: ["2025-07-07"]
      },
      {
        menuLabel: "session 11",
        title: "Datawrapper Basics: Quick Charts",
        subtitle: "data visualisation", 
        content: [
          "Creating bar, line, pie, and dot plots",
          "Customizing colors, fonts, labels",
          "Embedding charts in web stories",
          "Exporting images and interactives"
        ],
        dates: ["2025-07-09"]
      },
      {
        menuLabel: "session 12",
        title: "Datawrapper Advanced: Customizing & Storytelling",
        subtitle: "data visualisation", 
        content: [
          "Multiple axes charts",
          "Interactive tooltips and annotations",
          "Embedding data sources and notes",
          "Live-updating charts via Google Sheets"
        ],
        dates: ["2025-07-10"]
      },
      {
        menuLabel: "session 13",
        title: "Maps with Datawrapper: Choropleths and Symbol Maps",
        subtitle: "data visualisation", 
        content: [
          "How are maps used in data journalism",
          "Uploading geo datasets (shapefiles/GeoJSON)",
          "Creating region-based color maps",
          "Symbol maps for point-based data",
          "Map annotations, tooltips, and legends"
        ],
        dates: ["2025-07-12"]
      },
      {
        menuLabel: "session 14",
        title: "Custom GeoJSON and Map Creation",
        subtitle: "data visualisation", 
        content: [
          "Finding and editing GeoJSON",
          "Drawing custom boundaries",
          "Combining multiple data layers",
          "Embedding interactive maps"
        ],
        dates: ["2025-07-14"]
      },
      {
        menuLabel: "session 15",
        title: "Satellite Data for Investigations",
        subtitle: "data processing", 
        content: [
          "Tools: Google Earth Pro, Sentinel Hub Playground, Planet Labs (public data), Sentinel Downloader",
          "Types of satellite imagery and their uses",
          "Tracking deforestation, floods, urban expansion, fires",
          "Accessing free satellite data (Sentinel, NASA FIRMS, Google Earth historical imagery)",
          "Measuring distances, areas, and changes over time",
          "Exporting imagery for reporting"
        ],
        dates: ["2025-07-16"]
      },
      {
        menuLabel: "sessions 16–18",
        title: "Practice Stint 1-3",
        content: [
          "These sessions will not cover any new topics. Instead, we will focus on obtaining a dataset, then cleaning and analysing it. We'll practice what we learned in the previous sessions."
        ],
        dates: ["2025-07-19", "2025-07-21", "2025-07-23"]
      },
      {
        menuLabel: "session 19",
        title: "Excel Advanced",
        subtitle: "Data Processing", 
        content: [
          "Nested formulas: IF, VLOOKUP/XLOOKUP, INDEX-MATCH",
          "Pivot charts",
          "Date/time functions",
          "Basic statistical summaries (mean, median, mode, standard deviation)"
        ],
        dates: ["2025-07-26"]
      },
      {
        menuLabel: "session 20",
        title: "In Focus: Data and Viz for Business Reporting",
        content: [],
        dates: ["2025-07-26"]
      },
      {
        menuLabel: "session 21",
        title: "Practice Stint - 4",
        content: [],
        dates: ["2025-07-27"]
      },
      {
        menuLabel: "session 22",
        title: "Introduction to Coding for Data Journalists",
        content: [
          "Details will be provided soon."
        ],
        dates: ["2025-07-28"]
      },
      {
        menuLabel: "sessions 23",
        title: "Ethics and Privacy",
        content: [
            "Data Integrity and Transparency: Your Shield Against Disinformation and the DSA",
            "Data Privacy and Harm Reduction: Protecting Sources and Subjects in a High-Stakes Environment",
            "The Secure Workflow: Ethical Data Handling from Acquisition to Publication",
            "Bias, Fairness, and Representation: Telling Inclusive Stories of Bangladesh",
            "Accountability and Risk Management: A Practical Framework for Newsroom Safety"
        ],
        dates: ["2025-07-29"]
      },
      {
        menuLabel: "sessions 24–30",
        title: "SESSION 23–30: Story Development and Publication",
        content: [
          "Details will be provided soon."
        ],
        dates: ["2025-07-30", "2025-07-31", "2025-08-03", "2025-08-04",  "2025-08-05", "2025-08-06", "2025-08-07" ]
      }
    ];

    const menuDiv = document.getElementById('menu');
    const contentArea = document.getElementById('content-area');
    const calendarContainer = document.getElementById('calendar-months');
    const burger = document.getElementById('burger');
    const menu = document.querySelector('.menu');
    const weekdayNames = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
    const calendarMonths = [
      { name: "June 2025", year: 2025, month: 5 },
      { name: "July 2025", year: 2025, month: 6 },
      { name: "August 2025", year: 2025, month: 7 }
    ];
    const sessionDatesSet = new Set();
    const dateToSessionsMap = new Map();

    sessions.forEach(session => {
      if (session.dates) {
        session.dates.forEach(date => {
          sessionDatesSet.add(date);
          if (!dateToSessionsMap.has(date)) {
            dateToSessionsMap.set(date, []);
          }
          dateToSessionsMap.get(date).push(session);
        });
      }
    });

    function init() {
      renderMenuAndContent();
      renderCalendar();
      setupEventListeners();
      setupScrollObserver();
      setupFadeInObserver();
      setActiveSession(1);
    }
    
    function setActiveSession(sessionNumber) {
      document.querySelectorAll('.menu div.active').forEach(el => el.classList.remove('active'));
      document.querySelectorAll('.content section h2.active-session-heading').forEach(el => el.classList.remove('active-session-heading'));
      document.querySelectorAll('.days div.session-date.selected').forEach(el => el.classList.remove('selected'));
      
      if (!sessionNumber) return;

      const menuItem = document.getElementById('session' + sessionNumber);
      if (menuItem) menuItem.classList.add('active');

      const section = document.getElementById('content-session' + sessionNumber);
      const heading = section?.querySelector('h2');
      if (heading) heading.classList.add('active-session-heading');

      const sessionData = sessions[sessionNumber - 1];
      if (sessionData?.dates) {
        sessionData.dates.forEach(dateStr => {
          const dayDiv = document.querySelector(`.days div[title*="${dateStr}"]`);
          if (dayDiv) dayDiv.classList.add('selected');
        });
      }
    }

    function setupScrollObserver() {
      const options = { root: null, rootMargin: '-30% 0px -70% 0px', threshold: 0 };
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const sessionNumber = entry.target.id.replace('content-session', '');
            setActiveSession(sessionNumber);
          }
        });
      }, options);
      document.querySelectorAll('.content section').forEach(section => { observer.observe(section); });
    }
    
    function setupFadeInObserver() {
      const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('is-visible'); });
      }, { threshold: 0.1 });
      document.querySelectorAll('.content section').forEach(section => { observer.observe(section); });
    }

    function renderMenuAndContent() {
      sessions.forEach((session, index) => {
        const sessionNumber = index + 1;
        const menuItem = document.createElement('div');
        menuItem.id = 'session' + sessionNumber;
        menuItem.textContent = session.menuLabel;
        menuItem.onclick = () => scrollToSession(sessionNumber);
        menuDiv.appendChild(menuItem);
        const section = document.createElement('section');
        section.id = 'content-session' + sessionNumber;
        const title = document.createElement('h2');
        title.innerHTML = session.title;
        if (session.subtitle) {
          const subtitle = document.createElement('span');
          subtitle.textContent = "  " + session.subtitle;
          subtitle.className = 'subtitle';
          title.appendChild(subtitle);
        }
        if (session.dates?.length > 0) {
          const mobileDate = document.createElement('span');
          mobileDate.className = 'mobile-date';
          const formattedDates = session.dates.map(date => {
            const d = new Date(date);
            return `${d.getDate()} ${d.toLocaleString('default', { month: 'short' })}`;
          }).join(', ');
          mobileDate.textContent = `(${formattedDates})`;
          title.appendChild(mobileDate);
        }
        section.appendChild(title);
        const ul = document.createElement('ul');
        session.content.forEach(line => {
          const li = document.createElement('li');
          li.innerHTML = line;
          ul.appendChild(li);
        });
        section.appendChild(ul);
        contentArea.appendChild(section);
      });
    }

    function renderCalendar() {
      calendarMonths.forEach(({name, year, month}) => {
        const monthCalendar = createMonthCalendar(year, month, name);
        calendarContainer.appendChild(monthCalendar);
      });
    }

    function createMonthCalendar(year, month, monthName) {
      const monthDiv = document.createElement('div');
      monthDiv.className = 'month';
      const monthTitle = document.createElement('div');
      monthTitle.className = 'month-name';
      monthTitle.textContent = monthName;
      monthDiv.appendChild(monthTitle);
      const weekdaysDiv = document.createElement('div');
      weekdaysDiv.className = 'weekdays';
      weekdayNames.forEach(day => {
        const dayDiv = document.createElement('div');
        dayDiv.textContent = day;
        weekdaysDiv.appendChild(dayDiv);
      });
      monthDiv.appendChild(weekdaysDiv);
      const daysDiv = document.createElement('div');
      daysDiv.className = 'days';
      const firstDay = new Date(year, month, 1);
      const lastDay = new Date(year, month + 1, 0);
      const daysInMonth = lastDay.getDate();
      const startWeekday = firstDay.getDay();
      for(let i = 0; i < startWeekday; i++) { daysDiv.appendChild(document.createElement('div')).className = 'empty'; }
      const today = new Date();
      const todayYear = today.getFullYear(), todayMonth = today.getMonth(), todayDate = today.getDate();
      for(let day = 1; day <= daysInMonth; day++) {
        const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
        const dayDiv = document.createElement('div');
        dayDiv.textContent = day;
        if (year === todayYear && month === todayMonth && day === todayDate) dayDiv.classList.add('today');
        if (sessionDatesSet.has(dateStr)) {
          dayDiv.classList.add('session-date');
          dayDiv.classList.add(new Date(year, month, day) < today ? 'past' : 'upcoming');
          const sessionsForDate = dateToSessionsMap.get(dateStr);
          dayDiv.title = `${dateStr}: ${sessionsForDate.map(s => s.menuLabel).join(', ')}`;
          dayDiv.onclick = () => {
            const firstSessionForDate = sessionsForDate[0];
            const sessionIndex = sessions.findIndex(s => s === firstSessionForDate);
            scrollToSession(sessionIndex + 1);
          };
        }
        daysDiv.appendChild(dayDiv);
      }
      monthDiv.appendChild(daysDiv);
      return monthDiv;
    }

    function scrollToSession(sessionNumber) {
      const section = document.getElementById('content-session' + sessionNumber);
      if (section) {
        setTimeout(() => {
          section.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 0);
      }
      setActiveSession(sessionNumber);
    }
    
    function setupEventListeners() {
      document.querySelectorAll('.content section h2').forEach((heading, index) => {
        const session = sessions[index];
        heading.addEventListener('mouseenter', () => {
          document.querySelectorAll('.menu div.hovered, .content section h2.hovered-session-heading, .days div.session-date.hovered').forEach(el => el.classList.remove('hovered-session-heading', 'hovered'));
          heading.classList.add('hovered-session-heading');
          document.getElementById('session' + (index + 1))?.classList.add('hovered');
          if (session.dates) {
            session.dates.forEach(dateStr => {
              document.querySelectorAll(`.days div.session-date[title*="${dateStr}"]`).forEach(dayDiv => dayDiv.classList.add('hovered'));
            });
          }
        });
        heading.addEventListener('mouseleave', () => {
          heading.classList.remove('hovered-session-heading');
          document.getElementById('session' + (index + 1))?.classList.remove('hovered');
          if (session.dates) {
            session.dates.forEach(dateStr => {
              document.querySelectorAll(`.days div.session-date[title*="${dateStr}"]`).forEach(dayDiv => dayDiv.classList.remove('hovered'));
            });
          }
        });
      });
      burger.addEventListener('click', (e) => { e.stopPropagation(); menu.classList.toggle('open'); });
      document.addEventListener('click', (e) => { if (!menu.contains(e.target) && e.target !== burger) menu.classList.remove('open'); });
      menu.addEventListener('click', (e) => { e.stopPropagation(); });
    }

    init();

  </script>
</body>
</html>